### Introduction

namespace = seek_combat

# Starting


scripted_effect seek_combat_transfer_equipped_artifact_effect = {
	if = {
		limit = {
			any_equipped_character_artifact = { artifact_slot_type = $TYPE$ }
		}
		save_scope_as = artifact_knight
		random_equipped_character_artifact = {
			limit = { artifact_slot_type = $TYPE$ }
			if = {
				#AGOT Modified
				# limit = { artifact_durability >= define:NInventory|ARTIFACT_LOW_DURABILITY }
				limit = {
					NOT = { has_variable = valyrian_steel } # Handle VS Swords transfer post-battle through a separate event
					artifact_durability >= define:NInventory|ARTIFACT_LOW_DURABILITY
				}
				save_scope_as = knight_artifact
				if = {
					limit = { exists = artifact_owner.house }
					artifact_owner.house = { save_scope_as = artifact_house }
				}
				set_owner = {
					target = $OWNER$
					history = {
						type = taken_in_battle
						actor = scope:artifact_knight
						recipient = $OWNER$
						location = scope:artifact_knight.location
					}
				}
				if = {
					limit = {
						exists = scope:artifact_house
						NOT = {
							any_artifact_house_claimant = {
								this = scope:artifact_house
							}
						}
					}
					scope:artifact_house = { add_house_artifact_claim = prev }
				}
				scope:artifact_knight = {
					if = {
						limit = {
							NOT = {
								has_personal_artifact_claim = prev
							}
						}
						add_personal_artifact_claim = prev
					}
				}
				#debug_log = "ART_TRAN"
			}
			#AGOT Added, Valyrian Steel Swords handled separately
			else_if = {
				limit = { has_variable = valyrian_steel }
				save_scope_as = looted_vs_sword

			
					scope:sc_victor = { trigger_event = agot_valyrian_steel.1001 }
				
			}
			else = {
				destroy_artifact = this
				#debug_log = "ART_DEST"
			}
		}
	}
}


##### Starting Event
##### You see your target on the battlefield along with his sworn shield. Do you attempt to cut your way through his men and challenge him?


## This a basic event, use it as a base for other events. Though you probably will want to remove the annotation spam first.
seek_combat.00011 = { # Use comments (like this one!) to put the event name here, this way other scripters can find the event you are working on without knowing the ID.
	type = character_event
	title = seek_combat.00011.t
	#desc = seek_combat.00011.desc # For Sublime users: there is a "find in files" feature that is excellent for digging through loc
	desc = {
			desc = seek_combat.00011.desc
			desc = seek_combat.0002a.desc
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_1
				}
				desc = seek_combat.00021a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_1
					scope:seek_combat_attacker_bodyguard_1 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_2
				}
				desc = seek_combat.00022a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_2
					scope:seek_combat_attacker_bodyguard_2 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_3
				}
				desc = seek_combat.00023a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_3
					scope:seek_combat_attacker_bodyguard_3 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_4
				}
				desc = seek_combat.00024a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_4
					scope:seek_combat_attacker_bodyguard_4 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_5
				}
				desc = seek_combat.00025a.desc
			}
			
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_5
					scope:seek_combat_attacker_bodyguard_5 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_6
				}
				desc = seek_combat.00026a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_6
					scope:seek_combat_attacker_bodyguard_6 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_7
				}
				desc = seek_combat.00027a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_7
					scope:seek_combat_attacker_bodyguard_7 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
		desc = seek_combat.0002d.desc
		triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_1
				}
				desc = seek_combat.00021d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_1
					scope:seek_combat_defender_bodyguard_1 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_2
				}
				desc = seek_combat.00022d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_2
					scope:seek_combat_defender_bodyguard_2 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_3
				}
				desc = seek_combat.00023d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_3
					scope:seek_combat_defender_bodyguard_3 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_4
				}
				desc = seek_combat.00024d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_4
					scope:seek_combat_defender_bodyguard_4 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_5
				}
				desc = seek_combat.00025d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_5
					scope:seek_combat_defender_bodyguard_5 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_6
				}
				desc = seek_combat.00026d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_6
					scope:seek_combat_defender_bodyguard_6 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_7
				}
				desc = seek_combat.00027d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_7
					scope:seek_combat_defender_bodyguard_7 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			
		
	}
	
	
	
	override_background = {
		reference = terrain
	}


	theme = mental_break
	left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = marshal
	}
	right_portrait = {
		character = scope:seek_combat_attacker_bodyguard_1
		scripted_animation = marshal
	}
	lower_right_portrait = {
		character = scope:seek_combat_attacker_bodyguard_2
		scripted_animation = duel_wield_weapon
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard_3
		scripted_animation = duel_wield_weapon
	}
	immediate = { 
	scope:seek_combat_defender = { trigger_event = seek_combat.0006 }
	}

	option = { # Stay in formation
		name = seek_combat.00011.a
		ai_chance = {
		base = 50 # Try to make it 0 for most interactions
		}
			
			
			scope:seek_combat_attacker = { trigger_event = seek_combat.0001 }
			}
		
			
	option = { # Meet them in single combat.
		name = seek_combat.00011.b
		
	ai_chance = {
		base = 5 # Try to make it 0 for most interactions
		modifier = {
				add = 10
				has_relation_rival = scope:seek_combat_attacker
			}
			modifier = {
				add = 15
				has_relation_nemesis = scope:seek_combat_attacker
			}
		# Relative fightan ability.
		modifier = {
			desc = CTSC_RELATIVE_PROWESS
			scope:seek_combat_attacker.prowess < scope:seek_combat_defender.prowess
			add = {
				value = scope:seek_combat_defender.prowess
				subtract = scope:seek_combat_attacker.prowess
				multiply = 2
			}
		}
		modifier = {
			desc = CTSC_RELATIVE_PROWESS
			scope:seek_combat_defender.prowess < scope:seek_combat_attacker.prowess
			add = {
				value = scope:seek_combat_attacker.prowess
				subtract = scope:seek_combat_defender.prowess
				multiply = -2
			}
		}
		# Weight up for personality values.
		ai_value_modifier = {
			who = scope:seek_combat_defender
			ai_boldness = {
				if = {
					limit = {
						scope:seek_combat_defender = {
							ai_boldness > 0
							ai_rationality < 0
						}
					}
					value = 2
				}
				else_if = {
					limit = {
						scope:seek_combat_defender = {
							NOT = { ai_boldness = 0 }
						}
					}
					value = 1
				}
			}
			ai_vengefulness = {
				if = {
					limit = {
						scope:seek_combat_defender = {
							NOT = { ai_vengefulness = 0 }
						}
					}
					value = 0.75
				}
			}
			ai_honor = {
				if = {
					limit = {
						scope:seek_combat_defender = {
							ai_honor > 0
						}
					}
					value = 0.5
				}
			}
		}
		}
	
		
		configure_start_single_combat_effect = {
			SC_INITIATOR = scope:seek_combat_attacker
			SC_ATTACKER = scope:seek_combat_attacker
			SC_DEFENDER = scope:seek_combat_defender
			FATALITY = possible
			FIXED = no
			LOCALE = terrain_scope
			OUTPUT_EVENT = seek_combat.0007
			INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		}
	}
}


seek_combat.0001 = { # Use comments (like this one!) to put the event name here, this way other scripters can find the event you are working on without knowing the ID.
	type = character_event
	title = seek_combat.0001.t
	desc = seek_combat.0001.desc # For Sublime users: there is a "find in files" feature that is excellent for digging through loc
	override_background = {
		reference = terrain
	}


	theme = mental_break
	left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = duel_wield_weapon
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = duel_wield_weapon
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard_1
		scripted_animation = duel_wield_weapon
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard_1
		scripted_animation = duel_wield_weapon
	}
	immediate = { 
	scope:seek_combat_defender = { trigger_event = seek_combat.0006 }
	}

	option = { # Attack
		name = seek_combat.0001.a
		
		duel = {
			#skill = prowess
			skills = { martial prowess }
			target = scope:seek_combat_defender
			
			50 = {
				#show_chance = no
				desc = "You break through the enemy lines"
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				custom_tooltip = "A confrontation begins between you and [seek_combat_defender.GetFullName] along with any bodyguards."
				
			
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
		
			}
			30 = {
				#show_chance = no
				desc = "You are beaten back"
				
					scope:seek_combat_attacker = {
				
							increase_wounds_effect = { REASON = battle }
							root = { add_prestige = minor_prestige_loss }
					trigger_event = seek_combat.00021 
				 
			}
			}
			15 = {
				#show_chance = no
				desc = "You are captured in your attempt to challenge your foe"
				if = { limit = { scope:seek_combat_defender = { is_landed = yes } }
						rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:seek_combat_attacker
														IMPRISONER = scope:seek_combat_defender
													}
													rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:seek_combat_attacker_bodyguard_1
														IMPRISONER = scope:seek_combat_defender
													}
													}
													else = { 
															scope:seek_combat_defender = { liege = { save_scope_as = seek_combat_defender_liege } }
															rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:seek_combat_attacker
														IMPRISONER = scope:seek_combat_defender_liege
													}
													rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:seek_combat_attacker_bodyguard
														IMPRISONER = scope:seek_combat_defender_liege
													}
													}
															
				
			}
			5 = {
				#show_chance = no
				desc = "You are overwhelmed by the enemy and killed"
				
					scope:seek_combat_attacker = {
				death = {
							death_reason = death_cut_off_by_enemy_troops_offensive
							#killer = scope:seek_combat_defender
						}
			}
			}
		}
		
	}
	option = { # Nevermind, this is too dangerous.
		name = seek_combat.0001.b
	}
}

#### You manage to make it through and your target is within striking distance. Do you attack yourself or send your own men first?
####



### You Attack
###


### The Sworn Shields fight



### You fight your target


seek_combat.0002 = {
	type = character_event
	hidden = false
	title = seek_combat.0002.t
	#desc = seek_combat.0002.desc
	desc = {
			desc = seek_combat.0002.desc
			desc = seek_combat.0002a.desc
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_1
				}
				desc = seek_combat.00021a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_1
					scope:seek_combat_attacker_bodyguard_1 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_2
				}
				desc = seek_combat.00022a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_2
					scope:seek_combat_attacker_bodyguard_2 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_3
				}
				desc = seek_combat.00023a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_3
					scope:seek_combat_attacker_bodyguard_3 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_4
				}
				desc = seek_combat.00024a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_4
					scope:seek_combat_attacker_bodyguard_4 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_5
				}
				desc = seek_combat.00025a.desc
			}
			
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_5
					scope:seek_combat_attacker_bodyguard_5 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_6
				}
				desc = seek_combat.00026a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_6
					scope:seek_combat_attacker_bodyguard_6 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_7
				}
				desc = seek_combat.00027a.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_attacker_bodyguard_7
					scope:seek_combat_attacker_bodyguard_7 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
		desc = seek_combat.0002d.desc
		triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_1
				}
				desc = seek_combat.00021d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_1
					scope:seek_combat_defender_bodyguard_1 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_2
				}
				desc = seek_combat.00022d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_2
					scope:seek_combat_defender_bodyguard_2 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_3
				}
				desc = seek_combat.00023d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_3
					scope:seek_combat_defender_bodyguard_3 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_4
				}
				desc = seek_combat.00024d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_4
					scope:seek_combat_defender_bodyguard_4 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_5
				}
				desc = seek_combat.00025d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_5
					scope:seek_combat_defender_bodyguard_5 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_6
				}
				desc = seek_combat.00026d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_6
					scope:seek_combat_defender_bodyguard_6 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_7
				}
				desc = seek_combat.00027d.desc
			}
			triggered_desc = {
				trigger = {
					exists = scope:seek_combat_defender_bodyguard_7
					scope:seek_combat_defender_bodyguard_7 = { is_alive = no }
				}
				desc = seek_combat.0002_dead.desc
			}
			
		
	}
	theme = battle
	override_background = {
		reference = terrain
	}
	left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = duel_wield_weapon
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = duel_wield_weapon
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard_1
		scripted_animation = duel_wield_weapon
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard_1
		scripted_animation = duel_wield_weapon
	}
	
	trigger = { 
				scope:seek_combat_attacker = { AND = { 
												is_alive = yes
												is_imprisoned = no
												} }
				
				scope:seek_combat_defender = { 
												AND = { 
												is_alive = yes
												is_imprisoned = no
												}


												}
				
				
						}
													


	immediate = {
	
	
		
	}

	option = { 
	
	name = seek_combat.0002.a

		stress_impact = {
			base = medium_stress_impact_gain
			brave = medium_stress_impact_loss
			craven = major_stress_impact_gain
			arrogant = minor_stress_impact_loss
		}
	if = { limit = { scope:seek_combat_defender_bodyguard_1 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_1
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_1 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_1
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_1
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_2 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_2
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_2 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_2
				
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_2
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_3 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_3
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_3 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_3
				
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_3
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_4 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_4
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_4 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_4
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_4
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_5 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_5
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_5 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_5
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_5
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_6 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_6
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_6 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_6 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_6
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_6
						}
			}
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_7 = { is_at_same_location = scope:seek_combat_defender } }
		#configure_start_single_combat_effect = {
		#	SC_INITIATOR = scope:seek_combat_attacker
		#	SC_ATTACKER = scope:seek_combat_attacker
		#	SC_DEFENDER = scope:seek_combat_defender_bodyguard
		#	FATALITY = possible
		#	FIXED = no
		#	LOCALE = terrain_scope
		#	OUTPUT_EVENT = seek_combat.0007
		#	INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		#}
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_7
			10 = {
				desc = seek_combat.0002.a1
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				
				scope:seek_combat_defender_bodyguard_7 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			trigger_event = seek_combat.0002
			show_chance = no
			}
			target = scope:seek_combat_attacker
			10 = {
				desc = seek_combat.0002.a2
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_7
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				scope:seek_combat_attacker = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_7
						}
			}
			}
		}
		}
		
		
		else = {
		configure_start_single_combat_effect = {
			SC_INITIATOR = scope:seek_combat_attacker
			SC_ATTACKER = scope:seek_combat_attacker
			SC_DEFENDER = scope:seek_combat_defender
			FATALITY = possible
			FIXED = no
			LOCALE = terrain_scope
			OUTPUT_EVENT = seek_combat.0007
			INVALIDATION_EVENT = single_combat.1006	#In a real event, this would obviously be a different even to the output.
		}
		#duel = {
		#	skill = prowess
		#	target = scope:seek_combat_defender
		#	
		#	10 = {
		#		show_chance = no
		#		desc = seek_combat.0002.a1
		#		compare_modifier = {
		#			value = scope:duel_value
		#			multiplier = 1
		#		}
		#		
		#		
		#	scope:seek_combat_defender = {
		#		death = {
		#					death_reason = death_battle
		#					killer = root
		#				}
		#	}
		#	scope:seek_combat_attacker = { trigger_event = seek_combat.0003 }
		#
		#	}
		#	10 = {
		#		show_chance = no
		#		desc = seek_combat.0002.a2
		#		show_as_tooltip = {
		#			increase_wounds_effect = { REASON = fight }
		#			root = { add_prestige = minor_prestige_loss }
		#		}
		#			scope:seek_combat_attacker = {
		#		death = {
		#					death_reason = death_battle
		#					killer = scope:seek_combat_defender
		#				}
		#		 
		#	}
		#	}
		#}
	
	
		}

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_greed = 0.25
				ai_energy = 0.25
				ai_rationality = -1
			}
			modifier = {
				add = 50
				has_trait = brave
			}
			modifier = {
				add = 30
				has_trait = arrogant
			}
			modifier = {
				add = -50
				has_trait = paranoid
			}
			modifier = {
				add = -200
				has_trait = craven
			}
		}
}
	
	option = { 
	
	name = seek_combat.0002.b
	trigger = {	
			OR = {
					AND = {
							scope:seek_combat_defender = { is_ai = no }
							OR= {
								scope:seek_combat_defender_bodyguard_1 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_2 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_3 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_4 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_5 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_6 = { is_at_same_location = scope:seek_combat_defender }
								scope:seek_combat_defender_bodyguard_7 = { is_at_same_location = scope:seek_combat_defender }
								}
							}
					
							scope:seek_combat_defender = { is_ai = yes }
						
							
					
				  }
	
	OR = {
			scope:seek_combat_attacker_bodyguard_1 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_2 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_3 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_4 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_5 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_6 = { is_at_same_location = scope:seek_combat_attacker } 
			scope:seek_combat_attacker_bodyguard_7 = { is_at_same_location = scope:seek_combat_attacker } 
			}
}

	if = { limit = { scope:seek_combat_attacker_bodyguard_1 = { is_at_same_location = scope:seek_combat_attacker } }
	
	scope:seek_combat_attacker_bodyguard_1 = { trigger_event = seek_combat.0004 } 
	}
	else_if = { limit = { scope:seek_combat_attacker_bodyguard_2 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_2 = { trigger_event = seek_combat.0004 }
				}
				
				else_if = { limit = { scope:seek_combat_attacker_bodyguard_3 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_3 = { trigger_event = seek_combat.0004 }
				}
				
				else_if = { limit = { scope:seek_combat_attacker_bodyguard_4 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_4 = { trigger_event = seek_combat.0004 }
				}
				else_if = { limit = { scope:seek_combat_attacker_bodyguard_5 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_5 = { trigger_event = seek_combat.0004 }
				}
				else_if = { limit = { scope:seek_combat_attacker_bodyguard_6 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_6 = { trigger_event = seek_combat.0004 }
				}
				else_if = { limit = { scope:seek_combat_attacker_bodyguard_7 = { is_at_same_location = scope:seek_combat_attacker } }
		scope:seek_combat_attacker_bodyguard_7 = { trigger_event = seek_combat.0004 }
				}

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_greed = 0.25
				ai_energy = 0.25
				ai_rationality = -1
			}
			modifier = {
				add = 50
				has_trait = brave
			}
			modifier = {
				add = 30
				has_trait = arrogant
			}
			modifier = {
				add = -50
				has_trait = paranoid
			}
			modifier = {
				add = -200
				has_trait = craven
			}
		}
}
	
	
}

seek_combat.00021 = {
	type = character_event
	hidden = false
	title = seek_combat.00021.t
	desc =seek_combat.00021.desc
	theme = battle
	override_background = {
		reference = terrain
	}
		left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = celebrate_sword
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = fear
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard
		scripted_animation = marshal
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard
		scripted_animation = marshal
	}
	
	

	immediate = {
	
	
		
	}


	
	option = { # My charge failed.
	name = seek_combat.00021.a

	hidden_effect = {
	}

	ai_chance = {
		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
		
		modifier = {
			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
			has_trait = compassionate
		}
	}
}
	
	
}



seek_combat.0003 = {
	type = character_event
	hidden = false
	title = seek_combat.0003.t
	desc =seek_combat.0003.desc
	theme = battle
	override_background = {
		reference = terrain
	}
		left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = celebrate_sword
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = fear
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard
		scripted_animation = marshal
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard
		scripted_animation = marshal
	}
	
	

	immediate = {
	
	
		
	}


	
	option = { # I Refuse
	name = seek_combat.0003.a

	hidden_effect = {
	}

	ai_chance = {
		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
		
		modifier = {
			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
			has_trait = compassionate
		}
	}
}
	
	
}




seek_combat.0004 = {
	type = character_event
	hidden = false
	title = seek_combat.0002.t
	desc =seek_combat.0002.desc
	theme = battle
	override_background = {
		reference = terrain
	}
	left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = duel_wield_weapon
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = duel_wield_weapon
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard
		scripted_animation = duel_wield_weapon
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard
		scripted_animation = duel_wield_weapon
	}


	immediate = {
	
	
		
	}

	option = { 
	
	name = NS_travel_events.0005.a

		stress_impact = {
			base = medium_stress_impact_gain
			brave = medium_stress_impact_loss
			craven = major_stress_impact_gain
			arrogant = minor_stress_impact_loss
		}
	if = { limit = { scope:seek_combat_defender_bodyguard_1 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_1
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_1 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_1 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_1
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_1
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_2 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_2
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_2 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_2 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_2
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_2
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_3 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_3
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_3 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_3 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_3
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_3
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_4 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_4
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_4 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_4 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_4
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_4
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_5 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_5
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_5 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_5 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_5
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_5
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_6 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_6
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_6 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_6 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_6
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_6
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		else_if = { limit = { scope:seek_combat_defender_bodyguard_7 = { is_at_same_location = scope:seek_combat_defender } }
		duel = {
			skill = prowess
			target = scope:seek_combat_defender_bodyguard_7
			10 = {
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender_bodyguard_7 = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				scope:seek_combat_defender_bodyguard_7 = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			show_chance = no
			}
			
			10 = {
				desc = tribal_bullshit
				show_chance = no
				target = scope:seek_combat_defender_bodyguard_7
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender_bodyguard_7
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
		}
		
		
		else = {
		duel = {
			skill = prowess
			target = scope:seek_combat_defender
			
			10 = {
				show_chance = no
				desc = tribal.1101.a_success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				show_as_tooltip = {
					scope:seek_combat_defender = {
						add_prestige_level = -1
						death = {
							death_reason = death_battle
							killer = root
						}
					}
					add_prestige = medium_prestige_gain
				}
				hidden_effect = {
			scope:seek_combat_defender = {
				death = {
							death_reason = death_battle
							killer = root
						}
			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0003 }
								}
			}
			10 = {
				show_chance = no
				desc = it_doesnt_matter
				show_as_tooltip = {
					increase_wounds_effect = { REASON = fight }
					root = { add_prestige = minor_prestige_loss }
				}
				
					root = {
				death = {
							death_reason = death_battle
							killer = scope:seek_combat_defender
						}

			}
			scope:seek_combat_attacker = { trigger_event = seek_combat.0002 }
			}
		}
	
	
		}

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_greed = 0.25
				ai_energy = 0.25
				ai_rationality = -1
			}
			modifier = {
				add = 50
				has_trait = brave
			}
			modifier = {
				add = 30
				has_trait = arrogant
			}
			modifier = {
				add = -50
				has_trait = paranoid
			}
			modifier = {
				add = -200
				has_trait = craven
			}
		}
}
	
	
	
	
}


### Notify Defender of Victory

seek_combat.0005 = {
	type = character_event
	hidden = false
	title = seek_combat.0005.t
	desc =seek_combat.0005.desc
	theme = battle
	override_background = {
		reference = terrain
	}
		left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = fear
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = celebrate_sword
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard
		scripted_animation = marshal
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard
		scripted_animation = marshal
	}
	
	

	immediate = {
	
	
		
	}


	
	option = { # I Refuse
	name = seek_combat.0005.a

	hidden_effect = {
	}

	ai_chance = {
		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
		
		modifier = {
			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
			has_trait = compassionate
		}
	}
}
	
	
}

#Notify Defender of Attack

seek_combat.0006 = {
	type = character_event
	hidden = false
	title = seek_combat.0006.t
	desc =seek_combat.0006.desc
	theme = battle
	override_background = {
		reference = terrain
	}
		left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = duel_wield_weapon
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = duel_wield_weapon
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard
		scripted_animation = marshal
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard
		scripted_animation = marshal
	}
	
	

	immediate = {
	
	
		
	}


	
	option = { # I Refuse
	name = seek_combat.0006.a

	hidden_effect = {
	}

	ai_chance = {
		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
		
		modifier = {
			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
			has_trait = compassionate
		}
	}
}
	
	
}

### Duel Finish


seek_combat.0007 = { 
	type = empty
	#scope = none
	hidden = yes
	#title = others.0001.t
	#desc =  others.0001.desc
	#theme = prison

	immediate = {
	
	
	scope:sc_victor = { trigger_event = seek_combat.0008 }
	scope:sc_loser = { seek_combat_transfer_equipped_artifact_effect = { TYPE = primary_armament OWNER = scope:sc_victor }
						seek_combat_transfer_equipped_artifact_effect = { TYPE = armor OWNER = scope:sc_victor }
						}
	
	
				
				}
				
	
			
			
		}
		
		
	



seek_combat.0008 = {
	type = character_event
	hidden = false
	title = seek_combat.0003.t
	desc =seek_combat.0003.desc
	theme = battle
	override_background = {
		reference = terrain
	}
		left_portrait = {
		character = scope:seek_combat_attacker
		scripted_animation = celebrate_sword
	}
	right_portrait = {
		character = scope:seek_combat_defender
		scripted_animation = fear
	}
	lower_right_portrait = {
		character = scope:seek_combat_defender_bodyguard_1
		scripted_animation = marshal
	}
	lower_left_portrait = {
		character = scope:seek_combat_attacker_bodyguard_1
		scripted_animation = marshal
	}
	
	

	immediate = {
	
	#every_player = {
	#		send_interface_message = {
	#			type = event_freehold_neutral_text
	#			title = freehold_battlefield_duel_interaction_notification_title
	#			desc = freehold_battlefield_duel_interaction_toast
	#			left_icon = scope:sc_victor
	#			right_icon = scope:sc_loser
	#		}
	#	}
	
	
	
		
	}
	
	option = { 
	
	name = seek_combat.0008.a
	trigger = {		root = scope:sc_victor }
					#AND = { 
					#		OR = { scope:sc_victor = scope:seek_combat_attacker
					#			scope:sc_victor = scope:seek_combat_attacker_bodyguard
					#		}
					#		scope:sc_loser = scope:seek_combat_defender_bodyguard
					#		}
			
ai_chance = {
		base = 100 # Try to make it 0 for most interactions
		}



scope:sc_loser = {
				death = {
							death_reason = death_battle
							killer = scope:sc_victor
						}

			}
			
				hidden_effect = {
												scope:sc_loser = {
															remove_trait = wounded_1
															remove_trait = wounded_2
															remove_trait = wounded_3

														}
														}
			


	






		
}

option = { 
	
	name = seek_combat.0008.b
	trigger = {		root = scope:sc_victor }
					#AND = { 
					#		OR = { scope:sc_victor = scope:seek_combat_attacker
					#			scope:sc_victor = scope:seek_combat_attacker_bodyguard
					#		}
					#		scope:sc_loser = scope:seek_combat_defender_bodyguard
					#		}
			




		rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:seek_combat_defender
														IMPRISONER = scope:seek_combat_attacker
													}
										
			


	






		#ai_chance = {
		#	base = 10
		#	ai_value_modifier = {
		#		ai_greed = 0.25
		#		ai_energy = 0.25
		#		ai_rationality = -1
		#	}
		#	modifier = {
		#		add = 50
		#		has_trait = brave
		#	}
		#	modifier = {
		#		add = 30
		#		has_trait = arrogant
		#	}
		#	modifier = {
		#		add = -50
		#		has_trait = paranoid
		#	}
		#	modifier = {
		#		add = -200
		#		has_trait = craven
		#	}
		#}
}


option = { 
	
	name = seek_combat.0008.c
	trigger = {		root = scope:sc_victor }
					#AND = { 
					#		OR = { scope:sc_victor = scope:seek_combat_attacker
					#			scope:sc_victor = scope:seek_combat_attacker_bodyguard
					#		}
					#		scope:sc_loser = scope:seek_combat_defender_bodyguard
					#		}
			



 
		rightfully_imprison_character_less_verbose_effect = {
														TARGET = scope:sc_loser
														IMPRISONER = scope:sc_victor
													}
													
							scope:sc_loser = {	add_character_modifier = { modifier = safe_wound_treatment_success_low_modifier days = wound_treatment_success_duration } }
			


	






		#ai_chance = {
		#	base = 10
		#	ai_value_modifier = {
		#		ai_greed = 0.25
		#		ai_energy = 0.25
		#		ai_rationality = -1
		#	}
		#	modifier = {
		#		add = 50
		#		has_trait = brave
		#	}
		#	modifier = {
		#		add = 30
		#		has_trait = arrogant
		#	}
		#	modifier = {
		#		add = -50
		#		has_trait = paranoid
		#	}
		#	modifier = {
		#		add = -200
		#		has_trait = craven
		#	}
		#}
}



	
#	option = { # I Refuse
#	name = seek_combat_i_won.0003.a
#
#	hidden_effect = {
#	}
#
#	ai_chance = {
#		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
#		
#		modifier = {
#			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
#			has_trait = compassionate
#		}
#	}
#	}
	
	
}




#seek_combat.0008 = {
#	type = character_event
#	hidden = false
#	title = seek_combat.0003.t
#	desc =seek_combat.0003.desc
#	theme = battle
#	override_background = {
#		reference = terrain
#	}
#		left_portrait = {
#		character = scope:seek_combat_attacker
#		scripted_animation = celebrate_sword
#	}
#	right_portrait = {
#		character = scope:seek_combat_defender
#		scripted_animation = fear
#	}
#	lower_right_portrait = {
#		character = scope:seek_combat_defender_bodyguard
#		scripted_animation = marshal
#	}
#	lower_left_portrait = {
#		character = scope:seek_combat_attacker_bodyguard
#		scripted_animation = marshal
#	}
#	
#	
#
#	immediate = {
#	
#	
#		
#	}
#
#
#	
#	option = { # I Refuse
#	name = seek_combat.0003.a
#
#	hidden_effect = {
#	}
#
#	ai_chance = {
#		base = 10 # What are the chances of selecting this option over others? (Does not need to be 0 to 100, it can be anything)
#		
#		modifier = {
#			add = 50 # To remove something you just add a negative number (5 + -10 = -5)
#			has_trait = compassionate
#		}
#	}
#}
#	
#	
#}
