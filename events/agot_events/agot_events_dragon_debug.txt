namespace = agot_dragon_debug

agot_dragon_debug.0001 = {
	type = character_event
	window = dragon_character_event
	title = agot_dragon_debug.0001.t
	desc = agot_dragon_debug.0001.desc
	orphan = yes

	theme = dragon

	override_background = {
		reference = agot_dragon_forest_clearing
	}

	override_effect_2d = {
		reference = smoke
	}

	left_portrait = {
		character = root
		animation = marshal

	}

	right_portrait = {
		character = var:current_dragon
		animation = dragon_main
		camera = camera_dragon_event_standing

		#Add this so dragon fits within event window
		outfit_tags = { linear_camera_zoom }
	}

	trigger = {

	}

	immediate = {

	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.0002 = {
	type = character_event
	window = dragon_character_event
	title = agot_dragon_debug.0002.t
	desc = agot_dragon_debug.0001.desc
	orphan = yes
	theme = dragon

	override_background = {
		reference = agot_dragonpit
	}

	override_effect_2d = {
		reference = smoke
	}

	left_portrait = root

	right_portrait = {
		character = var:current_dragon
		animation = dragon_main
		camera = camera_dragon_event_standing

		#Add this so dragon portrait fits within event window
		outfit_tags = { linear_camera_zoom }
	}

	trigger = {

	}

	immediate = {

	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.0003 = {
	type = character_event
	window = dragon_duel_event
	title = agot_dragon_debug.0003.t
	desc = agot_dragon_debug.0003.desc
	orphan = yes
	theme = dragon

	override_background = {
		#reference = agot_dragon_forest_clearing
		reference = agot_dragonpit
	}


	left_portrait = {
		character = root
		camera = camera_slay_dragon_human_event_left
		scripted_animation = duel_wield_weapon
	}
	right_portrait = {
		character = var:current_dragon
		animation = dragon_main
		camera = camera_slay_dragon_event_right

		#Add this so dragon portrait fits within event window
		outfit_tags = { linear_camera_zoom }
	}

	trigger = {
	}

	immediate = {
		root.var:current_dragon = { save_scope_as = rh_portrait }
	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.0004 = {
	type = character_event
	window = dragon_character_event
	title = agot_dragon_debug.0004.t
	desc = agot_dragon_debug.0004.desc
	orphan = yes
	theme = dragon

	override_background = {
		#reference = agot_dragonpit_2
		reference = agot_dragonpit
	}

	right_portrait = {
		character = var:current_dragon
		animation = dragon_main
		camera = camera_dragon_event_standing

		#Add this so dragon portrait fits within event window
		outfit_tags = { linear_camera_zoom }
	}

	trigger = {

	}

	immediate = {

	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.0005 = {
	type = character_event
	window = dragon_duel_event
	title = agot_dragon_debug.0005.t
	desc = agot_dragon_debug.0005.desc
	orphan = yes
	theme = dragon

	override_background = {
		reference = agot_open_sky
	}

	left_portrait = {
		character = scope:lh_portrait
		animation = dragon_main
		camera = camera_dragon_hover_left

		# Dynamic Camera Zoom
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_ten_dragon_size_trigger = yes }
					scope:rh_portrait = { level_ten_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_1.0 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_nine_dragon_size_trigger = yes }
					scope:rh_portrait = { level_nine_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.9 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_eight_dragon_size_trigger = yes }
					scope:rh_portrait = { level_eight_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.8 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_seven_dragon_size_trigger = yes }
					scope:rh_portrait = { level_seven_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.7 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_six_dragon_size_trigger = yes }
					scope:rh_portrait = { level_six_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.6 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_five_dragon_size_trigger = yes }
					scope:rh_portrait = { level_five_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.5 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_four_dragon_size_trigger = yes }
					scope:rh_portrait = { level_four_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.4 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_three_dragon_size_trigger = yes }
					scope:rh_portrait = { level_three_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.3 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_two_dragon_size_trigger = yes }
					scope:rh_portrait = { level_two_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.2 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_one_dragon_size_trigger = yes }
					scope:rh_portrait = { level_one_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.1 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_zero_dragon_size_trigger = yes }
					scope:rh_portrait = { level_zero_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.0 }
		}
		#End Dynamic Camera Zoom
	}

	right_portrait = {
		character = scope:rh_portrait
		animation = dragon_main
		camera = camera_dragon_hover_right

		# Dynamic Camera Zoom
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_ten_dragon_size_trigger = yes }
					scope:rh_portrait = { level_ten_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_1.0 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_nine_dragon_size_trigger = yes }
					scope:rh_portrait = { level_nine_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.9 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_eight_dragon_size_trigger = yes }
					scope:rh_portrait = { level_eight_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.8 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_seven_dragon_size_trigger = yes }
					scope:rh_portrait = { level_seven_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.7 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_six_dragon_size_trigger = yes }
					scope:rh_portrait = { level_six_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.6 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_five_dragon_size_trigger = yes }
					scope:rh_portrait = { level_five_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.5 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_four_dragon_size_trigger = yes }
					scope:rh_portrait = { level_four_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.4 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_three_dragon_size_trigger = yes }
					scope:rh_portrait = { level_three_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.3 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_two_dragon_size_trigger = yes }
					scope:rh_portrait = { level_two_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.2 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_one_dragon_size_trigger = yes }
					scope:rh_portrait = { level_one_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.1 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait = { level_zero_dragon_size_trigger = yes }
					scope:rh_portrait = { level_zero_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dynamic_camera_zoom_0.0 }
		}
	}

	trigger = {
	}

	immediate = {

		root.var:current_dragon = {
			save_scope_as = lh_portrait
		}

		random_living_dragon = {
			limit = {
				NOT = {
					this = scope:lh_portrait
				}
			}
			save_scope_as = rh_portrait
		}

		scope:lh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_hover RIDING_DRAGON = no }
		}
		scope:rh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_hover RIDING_DRAGON = no }
		}
	}

	after = {
		scope:lh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
		scope:rh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.00051 = {
	type = character_event
	window = dragon_duel_event
	title = agot_dragon_debug.00051.t
	desc = agot_dragon_debug.00051.desc
	orphan = yes
	theme = dragon

	override_background = {
		reference = agot_open_sky
	}

	left_portrait = {
		character = scope:lh_portrait
		animation = dragon_main
		camera = camera_dragon_hover_left

		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_ten_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_ten_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_1.0 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_nine_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_nine_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.9 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_eight_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_eight_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.8 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_seven_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_seven_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.7 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_six_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_six_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.6 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_five_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_five_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.5 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_four_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_four_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.4 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_three_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_three_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.3 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_two_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_two_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.2 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_one_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_one_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.1 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_zero_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_zero_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.0 }
		}
		#End Dynamic Camera Zoom
	}

	right_portrait = {
		character = scope:rh_portrait
		animation = dragon_main
		camera = camera_dragon_hover_right

		# Dynamic Camera Zoom
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_ten_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_ten_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_1.0 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_nine_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_nine_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.9 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_eight_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_eight_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.8 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_seven_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_seven_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.7 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_six_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_six_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.6 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_five_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_five_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.5 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_four_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_four_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.4 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_three_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_three_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.3 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_two_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_two_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.2 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_one_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_one_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.1 }
		}
		triggered_outfit = {
			trigger = {
				OR = {
					scope:lh_portrait.var:current_dragon = { level_zero_dragon_size_trigger = yes }
					scope:rh_portrait.var:current_dragon = { level_zero_dragon_size_trigger = yes }
				}
			}
			outfit_tags = { dragonrider dynamic_camera_zoom_0.0 }
		}
	}

	trigger = {
	}

	immediate = {
		save_scope_as = lh_portrait
		random_living_dragon = {
			limit = {
				NOT = {
					this = scope:lh_portrait.var:current_dragon
				}
				exists = var:current_rider
			}
			var:current_rider = {
				save_scope_as = rh_portrait
			}
		}

		scope:lh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_hover RIDING_DRAGON = yes }
		}
		scope:rh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_hover RIDING_DRAGON = yes }
		}
	}

	after = {
		scope:lh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
		scope:rh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.00052 = {
	type = character_event
	window = dragon_duel_event
	title = agot_dragon_debug.00052.t
	desc = agot_dragon_debug.00052.desc
	orphan = yes
	theme = dragon

	override_background = {
		reference = agot_open_sky
	}

	left_portrait = {
		character = scope:lh_portrait
		animation = dragon_main
		camera = camera_dragonrider_flying_event_back

		outfit_tags = { dragonrider linear_camera_zoom }
	}

	right_portrait = {
		character = scope:rh_portrait
		animation = dragon_main
		camera = camera_dragon_hover_distant

		outfit_tags = { dragonrider linear_camera_zoom }

	}

	trigger = {
	}

	immediate = {
		save_scope_as = lh_portrait
		random_living_dragon = {
			limit = {
				NOT = {
					this = scope:lh_portrait.var:current_dragon
				}
				exists = var:current_rider
			}
			var:current_rider = {
				save_scope_as = rh_portrait
			}
		}

		scope:lh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_flying RIDING_DRAGON = yes }
		}
		scope:rh_portrait = {
			agot_set_dragon_animation_flag_effect = { FLAG = dragon_hover RIDING_DRAGON = yes }
		}
	}

	after = {
		scope:lh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
		scope:rh_portrait = {
			agot_clear_dragon_animation_flags = yes
		}
	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

agot_dragon_debug.0006 = {
	type = character_event
	window = dragon_character_event
	title = agot_dragon_debug.0006.t
	desc = agot_dragon_debug.0006.desc
	orphan = yes
	theme = dragon

	left_portrait = {
		character = scope:random_dragon
		animation = dragon_head
		camera = camera_dragon_small
	}

	right_portrait = {
		character = var:current_dragon
		animation = dragon_head
		camera = camera_dragon_small
	}

	trigger = {

	}

	immediate = {
		random_living_dragon = {
			limit = {
				NOT = {
					this = var:current_dragon
				}
			}
			save_scope_as = random_dragon
		}
	}

	option = {
		name = agot_dragon_debug.0001.a
	}
}

# THIS SETUP CAN WORK
agot_dragon_debug.0007 = {
	type = character_event
	window = dragon_character_event
	title = agot_dragon_warfare.0005.t
	desc = agot_dragon_debug.0001.desc
	orphan = yes
	theme = war
	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:enemy_knight
		animation = fear
		camera = camera_human_back_to_camera
	}

	right_portrait = {
		character = root
		camera = camera_dragonrider_up_close_looking_left
		animation = dragon_main
		outfit_tags = { dragonrider linear_camera_zoom }
	}

	immediate = {
		agot_set_dragon_animation_flag_effect = { FLAG = dragon_flying RIDING_DRAGON = yes }

		random_knight = {
			save_scope_as = enemy_knight
		}
	}
	trigger = {

	}

	option = {
		name = agot_dragon_debug.0001.a
	}

	after = {
		agot_clear_dragon_animation_flags = yes
	}
}

agot_dragon_debug.0008 = { #0008
	type = character_event
	orphan = yes
	window = dragon_character_event
	title = agot_dragon_warfare.0034.t
	desc = {
		desc = agot_dragon_warfare.0034.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:knight_three
				}
				desc = agot_dragon_warfare.0034.three_knights
			}
			triggered_desc = {
				trigger = {
					exists = scope:knight_two
				}
				desc = agot_dragon_warfare.0034.two_knights
			}
			triggered_desc = {
				trigger = {
					exists = scope:knight_one
				}
				desc = agot_dragon_warfare.0034.two_knights
			}
		}
		triggered_desc = {
			trigger = {
				has_trait = craven
			}
			desc = agot_dragon_warfare.0034.craven
		}
	}
	theme = war

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = rage
	}
	right_portrait = {
		character = scope:dragon_in_battle
		animation = dragon_head
		camera = camera_dragon_event_right
	}
	lower_left_portrait = {
		trigger = {
			exists = scope:knight_one
		}
		character = scope:knight_one
	}
	lower_center_portrait = {
		trigger = {
			exists = scope:knight_two
		}
		character = scope:knight_two
	}
	lower_right_portrait = {
		trigger = {
			exists = scope:knight_three
		}
		character = scope:knight_three
	}

	widgets = {
		widget = {
			gui = "agot_shader_event_sparks"
			container = "agot_shader_event_foreground"
		}
		widget = {
			gui = "agot_shader_event_fire"
			container = "agot_shader_event_background"
		}
	}


	immediate = {
		var:current_dragon = { save_scope_as = dragon_in_battle }
		#scope:dragon_in_battle = {
		#	agot_set_dragon_animation_flag_effect = { FLAG = dragon_flying RIDING_DRAGON = no }
		#	#add_character_flag = dragon_flying
		#}
		scope:dragon_in_battle.var:current_rider = { save_scope_as = dragonrider_in_battle }
		scope:dragon_in_battle.var:current_rider = { save_scope_as = dragon_commander_in_battle }
		scope:dragon_in_battle.location = {
			save_scope_as = location
		}
		scope:dragon_in_battle.location = {
			save_scope_as = battle_location
		}
		random_knight = {
			save_scope_as = enemy_knight
		}
		root = {
			save_scope_as = enemy_commander_in_battle
		}
	}

	trigger = {

	}

	option = {
		name = agot_dragon_debug.0001.a
	}

	after = {
		agot_clear_dragon_animation_flags = yes
		scope:dragon_in_battle = { agot_clear_dragon_animation_flags = yes }
	}
}