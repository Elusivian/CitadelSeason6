namespace = impart_values

impart_values.0001 = {
    type = character_event
    title = impart_values.0001.t
    desc = impart_values.0001.desc
    theme = education
    left_portrait = {
        character = scope:recipient
        animation = throne_room_conversation_2
    }
    right_portrait = {
        character = scope:actor
        animation = personality_rational
    }

    option = {
        name = impart_values.0001.diligent
        trigger = {
            scope:actor = {
                has_trait = diligent
            }
            scope:recipient = {
                NOR = {
                    has_trait = lazy
                    has_trait = diligent
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes

                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.75
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:diligent
                    }

                    add_trait = diligent
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes

                modifier = {
                    add = -15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:lazy
                    }

                    add_trait = lazy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.lazy
        trigger = {
            scope:actor = {
                has_trait = lazy
            }
            scope:recipient = {
                NOR = {
                    has_trait = lazy
                    has_trait = diligent
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes

                modifier = {
                    add = -30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:lazy
                    }

                    add_trait = lazy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes

                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.75
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:diligent
                    }

                    add_trait = diligent
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.cynical
        trigger = {
            scope:actor = {
                has_trait = cynical
            }
            scope:recipient = {
                NOR = {
                    has_trait = cynical
                    has_trait = zealous
                }
            }
        }
        stress_impact = {
            base = child_trait_change_stress_penalty
        }

        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes

                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:cynical
                    }

                    add_trait = cynical
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes

                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:zealous
                    }

                    add_trait = zealous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.zealous
        trigger = {
            scope:actor = {
                has_trait = zealous
            }
            scope:recipient = {
                NOR = {
                    has_trait = cynical
                    has_trait = zealous
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:zealous
                    }

                    add_trait = zealous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:cynical
                    }

                    add_trait = cynical
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.brave
        trigger = {
            scope:actor = {
                has_trait = brave
            }
            scope:recipient = {
                NOR = {
                    has_trait = brave
                    has_trait = craven
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:brave
                    }

                    add_trait = brave
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:craven
                    }

                    add_trait = craven
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.craven
        trigger = {
            scope:actor = {
                has_trait = craven
            }
            scope:recipient = {
                NOR = {
                    has_trait = brave
                    has_trait = craven
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:craven
                    }

                    add_trait = craven
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:brave
                    }

                    add_trait = brave
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.2
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.calm
        trigger = {
            scope:actor = {
                has_trait = calm
            }
            scope:recipient = {
                NOR = {
                    has_trait = calm
                    has_trait = wrathful
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.6
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:calm
                    }

                    add_trait = calm
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:wrathful
                    }

                    add_trait = wrathful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.wrathful
        trigger = {
            scope:actor = {
                has_trait = wrathful
            }
            scope:recipient = {
                NOR = {
                    has_trait = calm
                    has_trait = wrathful
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }

        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.4
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:wrathful
                    }

                    add_trait = wrathful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.6
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:calm
                    }

                    add_trait = calm
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.chaste
        trigger = {
            scope:actor = {
                has_trait = chaste
            }
            scope:recipient = {
                NOR = {
                    has_trait = chaste
                    has_trait = lustful
                }
                age > 12
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:chaste
                    }

                    add_trait = chaste
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:lustful
                    }

                    add_trait = lustful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.lustful
        trigger = {
            scope:actor = {
                has_trait = lustful
            }
            scope:recipient = {
                NOR = {
                    has_trait = chaste
                    has_trait = lustful
                }
                age > 12
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:lustful
                    }

                    add_trait = lustful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:chaste
                    }

                    add_trait = chaste
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.content
        trigger = {
            scope:actor = {
                has_trait = content
            }
            scope:recipient = {
                NOR = {
                    has_trait = content
                    has_trait = ambitious
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.50
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.50
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:content
                    }

                    add_trait = content
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.50
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.50
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:ambitious
                    }

                    add_trait = ambitious
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.ambitious
        trigger = {
            scope:actor = {
                has_trait = ambitious
            }
            scope:recipient = {
                NOR = {
                    has_trait = content
                    has_trait = ambitious
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.50
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.50
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:ambitious
                    }

                    add_trait = ambitious
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                } 
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.50
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.50
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:content
                    }

                    add_trait = content
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.fickle
        trigger = {
            scope:actor = {
                has_trait = fickle
            }
            scope:recipient = {
                NOR = {
                    has_trait = fickle
                    has_trait = stubborn
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.20
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:fickle
                    }

                    add_trait = fickle
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.20
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.40
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:stubborn
                    }

                    add_trait = stubborn
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.stubborn
        trigger = {
            scope:actor = {
                has_trait = stubborn
            }
            scope:recipient = {
                NOR = {
                    has_trait = fickle
                    has_trait = stubborn
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.20
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.40
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:stubborn
                    }

                    add_trait = stubborn
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.40
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.20
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:fickle
                    }

                    add_trait = fickle
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.forgiving
        trigger = {
            scope:actor = {
                has_trait = forgiving
            }
            scope:recipient = {
                NOR = {
                    has_trait = forgiving
                    has_trait = vengeful
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:forgiving
                    }

                    add_trait = forgiving
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:forgiving
                    }

                    add_trait = forgiving
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.vengeful
        trigger = {
            scope:actor = {
                has_trait = vengeful
            }
            scope:recipient = {
                NOR = {
                    has_trait = forgiving
                    has_trait = vengeful
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:vengeful
                    }

                    add_trait = vengeful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:forgiving
                    }

                    add_trait = forgiving
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.generous
        trigger = {
            scope:actor = {
                has_trait = generous
            }
            scope:recipient = {
                NOR = {
                    has_trait = generous
                    has_trait = greedy
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:generous
                    }

                    add_trait = generous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:greedy
                    }

                    add_trait = greedy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.greedy
        trigger = {
            scope:actor = {
                has_trait = greedy
            }
            scope:recipient = {
                NOR = {
                    has_trait = generous
                    has_trait = greedy
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:greedy
                    }

                    add_trait = greedy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:generous
                    }

                    add_trait = generous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
            
            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }
        }
    }

    option = {
        name = impart_values.0001.gregarious
        trigger = {
            scope:actor = {
                has_trait = gregarious
            }
            scope:recipient = {
                NOR = {
                    has_trait = gregarious
                    has_trait = shy
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:gregarious
                    }

                    add_trait = gregarious
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }

            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:shy
                    }

                    add_trait = shy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.shy
        trigger = {
            scope:actor = {
                has_trait = shy
            }
            scope:recipient = {
                NOR = {
                    has_trait = gregarious
                    has_trait = shy
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:shy
                    }

                    add_trait = shy
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:gregarious
                    }

                    add_trait = gregarious
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.honest
        trigger = {
            scope:actor = {
                has_trait = honest
            }
            scope:recipient = {
                NOR = {
                    has_trait = honest
                    has_trait = deceitful
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:honest
                    }

                    add_trait = honest
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.2
                    }
                }

                modifier = {
                    factor = 0
                    scope:recipient = { has_trait = just }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:deceitful
                    }

                    add_trait = deceitful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.deceitful
        trigger = {
            scope:actor = {
                has_trait = deceitful
            }
            scope:recipient = {
                NOR = {
                    has_trait = honest
                    has_trait = deceitful
                    has_trait = just
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:deceitful
                    }

                    add_trait = deceitful
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:honest
                    }

                    add_trait = honest
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.humble
        trigger = {
            scope:actor = {
                has_trait = humble
            }
            scope:recipient = {
                NOR = {
                    has_trait = humble
                    has_trait = arrogant
                    has_trait = authoritative
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:humble
                    }

                    add_trait = humble
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:arrogant
                    }

                    add_trait = arrogant
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.arrogant
        trigger = {
            scope:actor = {
                has_trait = arrogant
            }
            scope:recipient = {
                NOR = {
                    has_trait = humble
                    has_trait = arrogant
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:arrogant
                    }

                    add_trait = arrogant
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.5
                    }
                }

                modifier = {
                    factor = 0
                    scope:recipient = { has_trait = authoritative }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:humble
                    }

                    add_trait = humble
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.just
        trigger = {
            scope:actor = {
                has_trait = just
            }
            scope:recipient = {
                NOR = {
                    has_trait = just
                    has_trait = arbitrary
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:just
                    }

                    add_trait = just
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:arbitrary
                    }

                    add_trait = arbitrary
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.arbitrary
        trigger = {
            scope:actor = {
                has_trait = arbitrary
            }
            scope:recipient = {
                NOR = {
                    has_trait = just
                    has_trait = arbitrary
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:arbitrary
                    }

                    add_trait = arbitrary
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:just
                    }

                    add_trait = just
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.patient
        trigger = {
            scope:actor = {
                has_trait = patient
            }
            scope:recipient = {
                NOR = {
                    has_trait = patient
                    has_trait = impatient
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:patient
                    }

                    add_trait = patient
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:impatient
                    }

                    add_trait = impatient
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.impatient
        trigger = {
            scope:actor = {
                has_trait = impatient
            }
            scope:recipient = {
                NOR = {
                    has_trait = patient
                    has_trait = impatient
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:impatient
                    }

                    add_trait = impatient
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:patient
                    }

                    add_trait = patient
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.temperate
        trigger = {
            scope:actor = {
                has_trait = temperate
            }
            scope:recipient = {
                NOR = {
                    has_trait = temperate
                    has_trait = gluttonous
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:temperate
                    }

                    add_trait = temperate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:gluttonous
                    }

                    add_trait = gluttonous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }

    }

    option = {
        name = impart_values.0001.gluttonous
        trigger = {
            scope:actor = {
                has_trait = gluttonous
            }
            scope:recipient = {
                NOR = {
                    has_trait = temperate
                    has_trait = gluttonous
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = 0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:gluttonous
                    }

                    add_trait = gluttonous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.8
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:temperate
                    }

                    add_trait = temperate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.trusting
        trigger = {
            scope:actor = {
                has_trait = trusting
            }
            scope:recipient = {
                NOR = {
                    has_trait = trusting
                    has_trait = paranoid
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.35
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.35
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:trusting
                    }

                    add_trait = trusting
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:paranoid
                    }

                    add_trait = paranoid
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.paranoid
        trigger = {
            scope:actor = {
                has_trait = paranoid
            }
            scope:recipient = {
                NOR = {
                    has_trait = trusting
                    has_trait = paranoid
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = 0.2
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:paranoid
                    }

                    add_trait = paranoid
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.35
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.35
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = -0.1
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_vengefulness
                        multiply = -0.1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:trusting
                    }

                    add_trait = trusting
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.compassionate
        trigger = {
            scope:actor = {
                has_trait = compassionate
            }
            scope:recipient = {
                NOR = {
                    has_trait = compassionate
                    has_trait = callous
                    has_trait = sadistic
                    has_trait = rude
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:compassionate
                    }

                    add_trait = compassionate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:callous
                    }

                    add_trait = callous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.callous
        trigger = {
            scope:actor = {
                has_trait = callous
            }
            scope:recipient = {
                NOR = {
                    has_trait = compassionate
                    has_trait = callous
                    has_trait = sadistic
                }
            }
        }
        stress_impact = {
            base = child_trait_change_stress_penalty
        }

        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:callous
                    }

                    add_trait = callous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 1
                    }
                }

                modifier = {
                    factor = 0
                    scope:recipient = { has_trait = rude }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:compassionate
                    }

                    add_trait = compassionate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes

                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.sadistic
        trigger = {
            scope:actor = {
                has_trait = sadistic
            }
            scope:recipient = {
                NOR = {
                    has_trait = compassionate
                    has_trait = callous
                    has_trait = sadistic
                    has_trait = just
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:sadistic
                    }

                    add_trait = sadistic
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 1
                    }
                }

                modifier = {
                    factor = 0
                    scope:recipient = { has_trait = rude }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:compassionate
                    }

                    add_trait = compassionate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.rude
        trigger = {
            scope:actor = {
                has_trait = rude
            }
            scope:recipient = {
                NOR = {
                    has_trait = rude
                    has_trait = compassionate
                    has_trait = humble
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = -0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = -0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:rude
                    }

                    add_trait = rude
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes
                
                modifier = {
                    add = 15
                    scope:recipient = {
                        has_trait = charming
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 1
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:compassionate
                    }

                    add_trait = compassionate
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.authoritative
        trigger = {
            scope:actor = {
                has_trait = authoritative
            }
            scope:recipient = {
                NOR = {
                    has_trait = authoritative
                    has_trait = humble
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = bossy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_boldness
                        multiply = 0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.25
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:authoritative
                    }

                    add_trait = authoritative
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes

                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = pensive
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_compassion
                        multiply = 0.3
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_honor
                        multiply = 0.2
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_greed
                        multiply = -0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:humble
                    }

                    add_trait = humble
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.inquisitive
        trigger = {
            scope:actor = {
                has_trait = inquisitive
            }
            scope:recipient = {
                NOR = {
                    has_trait = inquisitive
                    has_trait = zealous
                }
            }
        }

        stress_impact = {
            base = child_trait_change_stress_penalty
        }
        
        random_list = {
            0 = {
                show_chance = yes
                
                base_accept_values_modifier = yes
                
                modifier = {
                    add = 50
                    scope:recipient = {
                        has_trait = curious
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_energy
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_rationality
                        multiply = 0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:inquisitive
                    }

                    add_trait = inquisitive
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_success_title
                        custom_tooltip = impart_values_lesson_success_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                
                base_reject_values_modifier = yes

                modifier = {
                    add = 30
                    scope:recipient = {
                        has_trait = rowdy
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_boldness
                        multiply = 0.5
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_sociability
                        multiply = 0.25
                    }
                }

                modifier = {
                    add = {
                        value = scope:recipient.ai_zeal
                        multiply = 0.5
                    }
                }

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:zealous
                    }

                    add_trait = zealous
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_failure_title
                        custom_tooltip = impart_values_lesson_failure_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            }

            0 = {
                show_chance = yes
                base_ignore_values_modifier = yes

                scope:recipient = {
                    set_variable = {
                        name = imparted_value_lesson_taught
                        value = flag:none
                    }
                }

                hidden_effect = {
                    send_interface_toast = {
                        title = impart_values_lesson_ignored_title
                        custom_tooltip = impart_values_lesson_ignored_desc
                        left_icon = root
                        right_icon = scope:recipient
                    }
                }
            } 
        }
    }

    option = {
        name = impart_values.0001.backout
    }
}