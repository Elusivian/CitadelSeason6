portrait_wear_helmet_trigger = { # Different from Armor, as Counts+ should show their crowns!
	exists = this
	trigger_if = {
		limit = { exists = involved_activity }
		involved_activity = {
			NOR = {
				has_activity_type = activity_hunt
				has_activity_type = activity_pilgrimage
			}
		}
	}
	OR = {
		# Mercenaries
		AND = {
			is_ruler = yes
			government_has_flag = government_is_mercenary
			is_at_war = yes #AGOT+ added
		}
		# Holy Orders
		AND = {
			is_ruler = yes
			government_has_flag = government_is_holy_order
			is_at_war = yes #AGOT+ added
		}
		AND = { #AGOT+ added for holy order courtiers
			has_trait = order_member
			is_landed = no
			liege = { is_at_war = yes }
		}
		# Commanding and lower than a Duke
		#AND = { #AGOT+ change
			is_commanding_army = yes
		#	OR = {
		#		is_landed = no
		#		AND = {
		#			exists = primary_title
		#			primary_title.tier < tier_duchy
		#		}
		#	}
		#}
		# Knight in an army
		exists = knight_army
		# Non-Council Knight lower than Duke and liege is at war
		#AND = { #AGOT+ change
		#	is_knight = yes
		#	is_councillor = no
		#	OR = {
		#		is_landed = no
		#		AND = {
		#			exists = primary_title
		#			primary_title.tier < tier_duchy
		#			liege = { is_at_war = yes }
		#		}
		#	}
		#}
		# Marshal lower than Duke
		#AND = { #AGOT+ change
		#	has_council_position = councillor_marshal
		#	OR = {
		#		is_landed = no
		#		primary_title.tier < tier_duchy
		#	}
		#}
		has_character_flag = wear_armor
		# Serving Varangian
		has_character_flag = is_currently_varangian
		# In a Duel
		has_character_flag = single_combat_duel_armor
		# In a Tournament
		activity_tournament_armor_trigger = yes

		#AGOT Added
		#AND = { #AGOT+ change
		#	has_council_position = councillor_admiral
		#	OR = {
		#		is_landed = no
		#		primary_title.tier < tier_duchy
		#	}
		#}
	}
	NOT = { any_equipped_character_artifact = { artifact_type = helmet } } #AGOT+ added, for characters wearing crowns
	NOR = {
		activity_tournament_shirtless_trigger = yes
		has_character_flag = no_hat
	}
	# Not peasants leading revolts
	NAND = {
		has_trait = peasant_leader
		OR = {
			is_ruler = no
			is_leading_faction_type = peasant_faction
			AND = {
				is_ruler = yes
				is_landed = no
				OR = {
					government_has_flag = government_is_feudal
					government_has_flag = government_is_clan
				}
			}
		}
	}
}

portrait_wear_lannister_armour_courtiers_trigger = { #Courtiers of Lannisters wearing special Lannister armour (low-tier) 
	exists = this
	trigger_if = {
		limit = { exists = involved_activity }
		involved_activity = {
			NOR = {
				has_activity_type = activity_hunt
				has_activity_type = activity_pilgrimage
			}
		}
	}
	is_male = yes #until a female version of the armour is added
	is_courtier = yes
	is_foreign_court_guest = no #visitors don't get recruited into Lannister service by dint of existing
	OR = {
		this.liege.dynasty ?= dynasty:dynn_Lannister
		this.liege.house ?= house:house_BaratheonKL
	}
	OR = { #must match the Lannister cultures that can wear this set above
		this.liege.culture ?= culture:westerman
		this.liege.culture ?= culture:crownlander
		this.liege.culture ?= culture:reachman
	}
	culture = { has_cultural_pillar = heritage_andal } #Dornish just look odd with Lannister armour...
	portrait_wear_armor_trigger = yes
	NOT = { has_trait = peasant_leader }
	NOR = {
		has_trait = peasant_leader
		has_trait = maester
	}
	has_game_rule = asoiaf_new_clothes_westerlands_rule_on
}