#Scripted Modifiers used for Activities
coronation_base_activity_modifier = {
	# CORONATION OPTIONS
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_BAD
	}
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_NORMAL
	}
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_GOOD
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_BAD
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_NORMAL
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_GOOD
	}
	modifier = {
		scope:coronation_option_pomp ?= flag:coronation_pomp_humble
		add = -10
		desc = ACTIVITY_GUEST_OPTION_CORONATION_POMP_HUMBLE
	}
	modifier = {
		scope:coronation_option_pomp ?= flag:coronation_pomp_appropriate
		add = 5
		desc = ACTIVITY_GUEST_OPTION_CORONATION_POMP_APPROPRIATE
	}
	modifier = {
		scope:coronation_option_pomp ?= flag:coronation_pomp_impressive
		add = 10
		desc = ACTIVITY_GUEST_OPTION_CORONATION_POMP_IMPRESSIVE
	}
	modifier = {
		scope:coronation_option_pomp ?= flag:coronation_pomp_grandiose
		add = 20
		desc = ACTIVITY_GUEST_OPTION_CORONATION_POMP_GRANDIOSE
	}

	################
	#   DISTANCE   #
	################
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days < 0
		NOT = { }
		add = -1000
		desc = ACTIVITY_GUEST_TRAVEL_LATE_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 0
		scope:estimated_arrival_diff_days <= 7
		add = -10
		desc = ACTIVITY_GUEST_TRAVEL_BARELY_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 7
		scope:estimated_arrival_diff_days <= 14
		add = 10
		desc = ACTIVITY_GUEST_TRAVEL_BARELY_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 14
		scope:estimated_arrival_diff_days <= 30
		add = 15
		desc = ACTIVITY_GUEST_TRAVEL_NORMAL_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 30
		scope:estimated_arrival_diff_days <= 60
		add = 20
		desc = ACTIVITY_GUEST_TRAVEL_NORMAL_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 60
		add = 25
		desc = ACTIVITY_GUEST_TRAVEL_EXTRA_TIME_REASON
	}
}

activity_guest_coronation_ai_accept_modifier = {
	opinion_modifier = { # Opinion Factor
		opinion_target = scope:host
		multiplier = 0.25
		desc = ACTIVITY_GUEST_OPINION_REASON
	}
	modifier = {
		add = 150
		this = { is_in_list = special_guests }
		desc = CORONATION_OFFICIANT_REASON
	}
	##################
	# ACTIVITY LEVEL #
	##################
	modifier = {
		desc = ACTIVITY_GUEST_ACTIVITY_LEVEL_REASON
		add = scope:host.primary_title.tier
	}
	modifier = {
		add = 50
		this = scope:host.faith.religious_head
		desc = HEAD_OF_FAITH_REASON
	}
	####################
	# TIER DIFFERENCES #
	####################
	modifier = {
		is_landed = yes
		highest_held_title_tier < scope:host.highest_held_title_tier
		add = {
			value = scope:host.highest_held_title_tier
			subtract = highest_held_title_tier
			multiply = 5
		}
		desc = ACTIVITY_GUEST_LOWER_RANK_REASON
	}
	modifier = {
		is_landed = yes
		highest_held_title_tier > scope:host.highest_held_title_tier
		add = {
			value = highest_held_title_tier
			subtract = scope:host.highest_held_title_tier
			multiply = -5
		}
		desc = ACTIVITY_GUEST_HIGHER_RANK_REASON
	}
	##########
	# FAMILY #
	##########
	modifier = {
		is_close_family_of = scope:host
		add = 10
		desc = ACTIVITY_GUEST_CLOSE_FAMILY_REASON
	}
	modifier = {
		NOT = { is_close_family_of = scope:host }
		is_extended_family_of = scope:host
		add = 5
		desc = ACTIVITY_GUEST_EXTENDED_FAMILY_REASON
	}
	modifier = {
		NOR = {
			is_close_family_of = scope:host
			is_extended_family_of = scope:host
		}
		dynasty = scope:host.dynasty
		add = 5
		desc = ACTIVITY_GUEST_SAME_DYNASTY_REASON
	}
	modifier = {
		is_consort_of = scope:host
		add = 50
		desc = ACTIVITY_GUEST_SPOUSE
	}
	#########
	# REALM #
	#########
	modifier = {
		is_landed = yes
		liege = scope:host
		add = 10
		desc = ACTIVITY_GUEST_VASSAL_REASON
	}
	modifier = {
		is_landed = yes
		this = scope:host.liege
		add = 5
		desc = ACTIVITY_GUEST_LIEGE_REASON
	}
	modifier = {
		is_landed = yes
		NOR = {
			liege = scope:host
			this = scope:host.liege
		}
		liege = scope:host.liege
		add = 5
		desc = ACTIVITY_GUEST_FELLOW_VASSAL_REASON
	}
	modifier = {
		is_landed = yes
		NOR = {
			liege = scope:host
			this = scope:host.liege
			liege = scope:host.liege
		}
		top_liege = scope:host.top_liege
		add = 5
		desc = ACTIVITY_GUEST_REALM_REASON
	}
	#############
	# RELATIONS #
	#############
	modifier = {
		add = 100
		this = { is_allied_to = scope:host }
		desc = CORONATION_ALLY_REASON
	}
	modifier = {
		has_relation_rival = scope:host
		NOT = { has_relation_nemesis = scope:host }
		add = -50
		desc = ACTIVITY_GUEST_RIVAL_REASON
	}
	modifier = {
		has_relation_nemesis = scope:host
		add = -100
		desc = ACTIVITY_GUEST_NEMESIS_REASON
	}
	modifier = {
		has_relation_friend = scope:host
		NOT = { has_relation_best_friend = scope:host }
		add = 50
		desc = ACTIVITY_GUEST_FRIEND_REASON
	}
	modifier = {
		has_relation_best_friend = scope:host
		add = 100
		desc = ACTIVITY_GUEST_BEST_FRIEND_REASON
	}
	modifier = {
		has_relation_lover = scope:host
		NOT = { has_relation_soulmate = scope:host }
		add = 50
		desc = ACTIVITY_GUEST_LOVER_REASON
	}
	modifier = {
		has_relation_soulmate = scope:host
		add = 100
		desc = ACTIVITY_GUEST_SOULMATE_REASON
	}
	#########
	# FAITH #
	#########
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_astray_level
			}
		}
		add = -10
		desc = ACTIVITY_GUEST_FAITH_ASTRAY_REASON
	}
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_hostile_level
			}
		}
		add = -25
		desc = ACTIVITY_GUEST_FAITH_HOSTILE_REASON
	}
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_evil_level
			}
		}
		add = -50
		desc = ACTIVITY_GUEST_FAITH_EVIL_REASON
	}
	###########
	# CULTURE #
	###########
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 75 }
			cultural_acceptance = { target = scope:host.culture value >= 50 }
		}
		add = -5
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 50 }
			cultural_acceptance = { target = scope:host.culture value >= 25 }
		}
		add = -10
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 25 }
		}
		add = -15
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = gregarious
		add = 10
		desc = ACTIVITY_GUEST_GREGARIOUS_REASON
	}
	modifier = {
		has_trait = shy
		NOT = { is_in_list = special_guests }
		add = -25
		desc = ACTIVITY_GUEST_SHY_REASON
	}
	modifier = {
		has_trait = reclusive
		NOT = { is_in_list = special_guests }
		add = -25
		desc = ACTIVITY_GUEST_RECLUSIVE_REASON
	}
	modifier = {
		ai_energy < 0
		NOT = { is_in_list = special_guests }
		add = ai_energy
		desc = AI_VALUE_MODIFIER_ENERGY
	}
	###########
	# SCHEMES #
	###########
	modifier = {
		any_scheme = {
			OR = {
				scheme_type = murder
				scheme_type = abduct
				scheme_type = befriend
				scheme_type = seduce
			}
			OR = {
				scheme_target_character = scope:host
				scheme_target_character.liege = scope:host
			}
		}
		add = 15
		desc = ACTIVITY_GUEST_SCHEME_REASON
	}
	#########
	# DREAD #
	#########
	modifier = {
		add = 25
		liege = scope:host
		has_dread_level_towards = {
			target = scope:host
			level = 1
		}
		desc = INTIMIDATED_REASON
	}
	modifier = {
		add = 50
		liege = scope:host
		has_dread_level_towards = {
			target = scope:host
			level = 2
		}
		desc = COWED_REASON
	}
	#########
	# PLAGUES #
	#########
	modifier = {
		add = -40
		would_follow_social_distancing_value >= -1
		OR = {
			capital_county ?= {
				any_county_province = {
					any_province_epidemic = {
						count >= 1
						outbreak_intensity < apocalyptic
					}
				}
			}
			scope:host = {
				any_held_title = {
					tier = tier_county
					any_county_province = {
						any_province_epidemic = {
							count >= 1
							outbreak_intensity < apocalyptic
						}
					}
				}
			}
		}
		desc = ACTIVITY_GUEST_EPIDEMIC_REASON
	}
	modifier = {
		add = -200
		OR = {
			capital_county ?= {
				any_county_province = {
					any_province_epidemic = {
						count >= 1
						outbreak_intensity = apocalyptic
					}
				}
			}
			scope:host = {
				any_held_title = {
					tier = tier_county
					any_county_province = {
						any_province_epidemic = {
							count >= 1
							outbreak_intensity = apocalyptic
						}
					}
				}
			}
		}
		desc = ACTIVITY_GUEST_EPIDEMIC_APOCALYPTIC_REASON
	}
}