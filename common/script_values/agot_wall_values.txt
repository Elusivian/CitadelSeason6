full_maintenance_level_chance = {
	value = 0
	holder ?= {
		if = {
			limit = {
				has_realm_law_flag = wall_maintenance_very_high
			}
			add = 5
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_high
			}
			add = 3
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_normal
			}
			add = 2
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_low
			}
			subtract = 1
		}
		if = {
			limit = {
				vassal_contract_has_flag = builder_wall_maintain
			}
			add = 2
		}

		if = {
			limit = {
				vassal_contract_has_flag = no_watch_centralization
			}
			add = 3
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = low_watch_centralization
			}
			add = 2
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = moderate_watch_centralization
			}
			add = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = high_watch_centralization
			}
			subtract = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = full_watch_centralization
			}
			subtract = 3
		}
	}
	holder = {
		every_liege_or_above ?= {
			limit = {
				government_has_flag = government_is_nw
			}
			if = {
				limit = {
					has_realm_law_flag = wall_maintenance_very_high
				}
				add = 5
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_high
				}
				add = 3
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_normal
				}
				add = 2
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_low
				}
				add = 1
			}
			if = {
				limit = {
					agot_is_independent_ruler = no
				}
				if = {
					limit = {
						vassal_contract_has_flag = no_watch_centralization
					}
					add = 3
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = low_watch_centralization
					}
					add = 2
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = moderate_watch_centralization
					}
					add = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = high_watch_centralization
					}
					subtract = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = full_watch_centralization
					}
					subtract = 3
				}
			}
		}
	}
}
high_maintenance_level_chance = {
	value = 3
	holder ?= {
		if = {
			limit = {
				has_realm_law_flag = wall_maintenance_very_high
			}
			add = 3
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_high
			}
			add = 2
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_normal
			}
			add = 1
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_low
			}
			subtract = 1
		}
		if = {
			limit = {
				vassal_contract_has_flag = builder_wall_maintain
			}
			add = 1
		}

		if = {
			limit = {
				vassal_contract_has_flag = no_watch_centralization
			}
			add = 2
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = low_watch_centralization
			}
			add = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = moderate_watch_centralization
			}
			add = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = high_watch_centralization
			}
			subtract = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = full_watch_centralization
			}
			subtract = 2
		}
	}

	holder = {
		every_liege_or_above ?= {
			limit = {
				government_has_flag = government_is_nw
			}
			if = {
				limit = {
					has_realm_law_flag = wall_maintenance_very_high
				}
				add = 3
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_high
				}
				add = 2
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_normal
				}
				add = 1
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_low
				}
				subtract = 1
			}
			if = {
				limit = {
					agot_is_independent_ruler = no
				}
				if = {
					limit = {
						vassal_contract_has_flag = builder_wall_maintain
					}
					add = 1
				}
		
				if = {
					limit = {
						vassal_contract_has_flag = no_watch_centralization
					}
					add = 2
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = low_watch_centralization
					}
					add = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = moderate_watch_centralization
					}
					add = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = high_watch_centralization
					}
					subtract = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = full_watch_centralization
					}
					subtract = 2
				}
			}
		}
	}
}
low_maintenance_level_chance = {
	value = 3
	holder ?= {
		if = {
			limit = {
				has_realm_law_flag = wall_maintenance_very_high
			}
			add = 3
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_high
			}
			add = 2
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_normal
			}
			add = 1
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_low
			}
			subtract = 1
		}
		if = {
			limit = {
				vassal_contract_has_flag = builder_wall_maintain
			}
			add = 1
		}

		if = {
			limit = {
				vassal_contract_has_flag = no_watch_centralization
			}
			add = 2
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = low_watch_centralization
			}
			add = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = moderate_watch_centralization
			}
			add = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = high_watch_centralization
			}
			subtract = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = full_watch_centralization
			}
			subtract = 2
		}
	}
	holder = {
		every_liege_or_above ?= {
			limit = {
				government_has_flag = government_is_nw
			}
			if = {
				limit = {
					has_realm_law_flag = wall_maintenance_very_high
				}
				add = 3
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_high
				}
				add = 2
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_normal
				}
				add = 1
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_low
				}
				subtract = 1
			}
			if = {
				limit = {
					agot_is_independent_ruler = no
				}
				if = {
					limit = {
						vassal_contract_has_flag = builder_wall_maintain
					}
					add = 1
				}
		
				if = {
					limit = {
						vassal_contract_has_flag = no_watch_centralization
					}
					add = 2
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = low_watch_centralization
					}
					add = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = moderate_watch_centralization
					}
					add = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = high_watch_centralization
					}
					subtract = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = full_watch_centralization
					}
					subtract = 2
				}
			}
		}
	}
}
no_maintenance_level_chance = {
	value = 0
	holder ?= {
		if = {
			limit = {
				has_realm_law_flag = wall_maintenance_very_high
			}
			subtract = 5
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_high
			}
			subtract = 3
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_normal
			}
			subtract = 2
		}
		else_if = {
			limit = {
				has_realm_law_flag = wall_maintenance_low
			}
			add = 2
		}
		if = {
			limit = {
				vassal_contract_has_flag = builder_wall_maintain
			}
			subtract = 2
		}

		if = {
			limit = {
				vassal_contract_has_flag = no_watch_centralization
			}
			subtract = 3
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = low_watch_centralization
			}
			subtract = 2
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = moderate_watch_centralization
			}
			subtract = 1
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = high_watch_centralization
			}
			add = 2
		}
		else_if = {
			limit = {
				vassal_contract_has_flag = full_watch_centralization
			}
			add = 4
		}
	}
	holder = {
		every_liege_or_above ?= {
			limit = {
				government_has_flag = government_is_nw
			}
			if = {
				limit = {
					has_realm_law_flag = wall_maintenance_very_high
				}
				subtract = 5
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_high
				}
				subtract = 3
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_normal
				}
				subtract = 2
			}
			else_if = {
				limit = {
					has_realm_law_flag = wall_maintenance_low
				}
				subtract = 1
			}
			if = {
				limit = {
					agot_is_independent_ruler = no
				}
				if = {
					limit = {
						vassal_contract_has_flag = no_watch_centralization
					}
					subtract = 3
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = low_watch_centralization
					}
					subtract = 2
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = moderate_watch_centralization
					}
					subtract = 1
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = high_watch_centralization
					}
					add = 2
				}
				else_if = {
					limit = {
						vassal_contract_has_flag = full_watch_centralization
					}
					add = 4
				}
			}
		}
	}
}

wildling_raid_cb = {
	value = 0
	scope:defender = {
		every_realm_county = {
			add = 1
		}
	}
	multiply = 10
}

wildlings_raid_gold_remove = {
	value = wildling_raid_cb
	multiply = -1
}

wall_breach_chance = {
	value = 10
	every_realm_province = {
		limit = {
			has_province_modifier = high_maintenance_level
		}
		subtract = 1
	}
	every_realm_province = {
		limit = {
			has_province_modifier = full_maintenance_level
		}
		subtract = 2
	}
	every_realm_province = {
		limit = {
			has_province_modifier = low_maintenance_level
		}
		add = 1
	}
	every_realm_province = {
		limit = {
			has_province_modifier = no_maintenance_level
		}
		add = 2
	}
	min = 0
}