
#Effects used in Petitions

### Title Liege
agot_petition_liege_0101_paramount_effect = {
	scope:petition_liege = {
		stress_impact = {
			greedy = medium_stress_impact_gain
		}
	}
	create_title_and_vassal_change = {
		type = granted
		save_scope_as = change
		add_claim_on_loss = no
	}
	scope:petition_paramount = {
		change_title_holder = {
			holder = scope:petition_vassal
			change = scope:change
		}
	}
	scope:petition_paramount = {
		every_in_de_jure_hierarchy = {
			limit = {
				exists = holder
				NOT = { holder = scope:petition_vassal }
				NOT = { holder = scope:petition_liege }
				holder = { liege = scope:petition_liege }
			}
			holder = { add_to_temporary_list = vassals_taken }
		}
	}
	every_in_list = {
		list = vassals_taken
		change_liege = {
			liege = scope:petition_vassal
			change = scope:change
		}
	}
	resolve_title_and_vassal_change = scope:change
	scope:petition_vassal = {
		hidden_effect = {
			send_interface_toast = {
				title = petition_liege.0101.t.title_liege
				left_icon = scope:petition_liege
				show_as_tooltip = {
					scope:petition_vassal = { get_title = scope:petition_paramount }
				}
			}
		}
	}
	scope:petition_liege = {
		hidden_effect = {
			send_interface_toast = {
				title = petition_liege.0101.t.title_liege
				left_icon = scope:petition_vassal
				show_as_tooltip = {
					scope:petition_vassal = { get_title = scope:petition_paramount }
				}
			}
		}
	}
}