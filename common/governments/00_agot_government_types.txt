lp_feudal_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		dynasty_named_realms = yes
		royal_court = yes
		legitimacy = yes
		court_generate_spouses = no
	}

	court_generate_commanders = no

	primary_holding = castle_holding
	valid_holdings = { ruin_holding }
	required_county_holdings = { castle_holding }

	can_get_government = { #Triggers other than faith don't seem to work
		trigger_if = {
			limit = {
				government_has_flag = government_is_administrative
			}
			agot_is_valid_for_lp_feudal_govt_when_converting_from_admin = yes
		}
		trigger_else = {
			OR = {
				agot_is_valid_lp_feudal_government_target = yes
				any_liege_or_above = { agot_is_valid_lp_feudal_government_target = yes }
			}
		}
		NOT = {
			any_liege_or_above = { has_trait = nightswatch }
		}
	}

	vassal_contract = {
		feudal_government_taxes
		feudal_government_levies
		special_contract
		religious_rights
		fortification_rights
		coinage_rights
		war_declaration_rights
		council_rights
		title_revocation_rights
		marriage_favor_rights
	}

	ai = {
		use_legends = yes
	}

	flag = government_is_feudal
	flag = government_is_lp_feudal
	color = rgb{ 130 100 100 }
}

free_city_government = { # Basically feudal but allowed cities
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		dynasty_named_realms = yes
		royal_court = yes
	}

	primary_holding = castle_holding
	valid_holdings = { city_holding }
	required_county_holdings = { castle_holding city_holding church_holding }

	vassal_contract = {
		feudal_government_taxes
		feudal_government_levies
		special_contract
		religious_rights
		fortification_rights
		coinage_rights
		succession_rights
		war_declaration_rights
		council_rights
		title_revocation_rights
	}
	
	# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
	flag = government_is_free_city
	color = hsv{ 0.33 1.00 0.78 }
}

silent_sisterhood_government = {
	government_rules = {
		create_cadet_branches = no
		court_generate_spouses = no
		council = no
		religious = yes
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		royal_court = no
	}

	court_generate_commanders = no

	fallback = 99

	primary_holding = castle_holding

	can_get_government = {
		is_landed = no
		has_title = title:d_the_silent_sisterhood
	}

	ai = {
		arrange_marriage = no
		use_goals = no
		use_decisions = no
		perform_religious_reformation = no
	}

	vassal_contract = {}

	flag = government_is_silent_sisters
	color = rgb{ 214 245 250 }
}

kingsguard_government = {
	government_rules = {
		create_cadet_branches = no
		court_generate_spouses = no
		council = no
		religious = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		royal_court = no
	}

	court_generate_commanders = no

	fallback = 99

	primary_holding = castle_holding

	can_get_government = {
		is_landed = no
		has_title = title:d_kingsguard
	}

	ai = {
		arrange_marriage = no
		use_goals = no
		use_decisions = no
		perform_religious_reformation = no
	}

	vassal_contract = {}

	flag = government_is_kg
	color = rgb{ 214 245 250 }
}

nights_watch_government = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		court_generate_spouses = no
		royal_court = no
	}

	court_generate_commanders = no

	primary_holding = castle_holding
	required_county_holdings = { castle_holding }
	valid_holdings = { ruin_holding }

	can_get_government = {
		OR = {
			has_title = title:k_the_wall
			any_liege_or_above = {
				has_title = title:k_the_wall
			}
		}
		OR = {
			has_trait = nightswatch
			has_trait = nightswatch_temp
			has_trait = nightswatch_historical
		}
	}
	character_modifier = {
		monthly_dread = 0.5 #scary man
		army_maintenance_mult = -0.6 #army don't get a regular soldier salary
		men_at_arms_maintenance = -0.7 #army don't get a regular soldier salary
		martial_per_prestige_level = 2 #famous smart stronkly
		prowess_per_prestige_level = 2 #famous stronk
		holy_order_hire_cost_mult = 1000
		# Make it more likely for the NW AI to start wars against wildlings
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}

	vassal_contract = {
		watch_centralization
		watch_special_contract
	}

	flag = government_is_nw

	color = hsv{ 0.9 0.0 0.22 }
}

the_citadel_government = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		court_generate_spouses = no
	}

	court_generate_commanders = no

	primary_holding = city_holding

	can_get_government = {
		trigger_if = {
			limit = {
				exists = global_var:citadel_title
			}
			has_title = global_var:citadel_title
		}
		trigger_else = {
			has_title = title:b_the_citadel
		}
		has_trait = archmaester
	}

	ai = {
		arrange_marriage = no
		use_goals = no
		use_scripted_guis = no
		perform_religious_reformation = no
	}

	flag = government_is_the_citadel

	color = hsv{ 0.00 1.00 0.98 }
}

ruins_government = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
	}

	primary_holding = ruin_holding
	valid_holdings = { ruin_holding }
	required_county_holdings = { ruin_holding city_holding castle_holding church_holding }

	ai = {
		arrange_marriage = no
		use_goals = no
		use_decisions = no
		use_scripted_guis = no
		use_legends = no
		perform_religious_reformation = no
	}

	vassal_contract = {
	}

	flag = government_is_ruins

	color = hsv{ 1 0.0 0.1 }
}

pirate_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		dynasty_named_realms = yes
		royal_court = yes
	}

	primary_holding = pirate_den_holding
	valid_holdings = { pirate_den_holding }
	required_county_holdings = { pirate_den_holding }

	can_get_government = { #Triggers other than faith don't seem to work
	}

	vassal_contract = {
		feudal_government_taxes
		feudal_government_levies
		special_contract
		religious_rights
		fortification_rights
		coinage_rights
		succession_rights
		war_declaration_rights
		council_rights
		title_revocation_rights
		marriage_favor_rights
	}

	flag = agot_pirate_gov_succ_block
	flag = government_can_raid_rule
	flag = agot_unlocks_conquest_cb
	flag = government_is_pirate

	color = rgb{ 57 174 119 }
}

host_government = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		royal_court = no
	}

	primary_holding = castle_holding
	valid_holdings = { ruin_holding castle_holding city_holding church_holding pirate_den_holding }
	required_county_holdings = { city_holding castle_holding church_holding }
	
	character_modifier = {
		legitimacy_gain_mult = -0.5
	}
	
	color = hsv{ 1 0.0 0.1 }
}

# A dummy government that is NOT meant to be used in-game. We use this in the bookmark frontend GUI to mix landed and landless on one screen.
dummy_adventurer_govt_for_bms = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = no
		dynasty_named_realms = no
		royal_court = no
	}

	primary_holding = castle_holding
	valid_holdings = { ruin_holding castle_holding city_holding church_holding pirate_den_holding }
	required_county_holdings = { city_holding castle_holding church_holding }
	
	character_modifier = {
		legitimacy_gain_mult = -0.5
	}
	
	color = hsv{ 1 0.0 0.1 }
}